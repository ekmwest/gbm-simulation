<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>GBM Simulation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script src="/app.js"></script>
    <link rel="stylesheet" href="/style.css" />
</head>

<body>
    <main class="main">
        <h1>Geometric Brownian Motion Simulation</h1>

        <hr>

        <h2>Should you play this game?</h2>
        <p>Here's a simple game:
        <ol>
            <li>You start with one dollar of wealth.</li>
            <li>A fair coin is tossed.</li>
            <li>On heads, your wealth increases 50%.</li>
            <li>On tails, your wealth decreases 40%.</li>
            <li>Repeat.</li>
        </ol>
        </p>
        <p>Seems like a favourably game, right? Should you play it?</p>

        <h2>Analysis and simulation</h2>
        <p>An average player should gain 5% wealth for each round (each coin toss):<br /><span class="math">(1.5 + 0.6) / 2 = 1.05</span></p>
        <p>Let's verify this with a simulation. Here's 10 000 players playing 10 rounds. Vertical axis displays average wealth on log scale. (Reload the page to run the simulation again).</p>

        <div id="ensembleSimulation" class="graph"></div>

        <p>However, you're not an average player. You're a single player and should, on average, <em>loose</em> 10% wealth for each coin toss:<br /><span class="math">1.5 * 0.6 = 0.9</span></p>
        <p>Let's verify with a simulation. Here's a single player making 10 000 rounds. Vertical axis displays wealth on log scale. (Reload the page to run the simulation again).</p>

        <div id="timeSimulation" class="graph"></div>

        <h2>Conclusion</h2>
        <p>You shouldn't play this game. It might seem favourable, and for the ensemble average, it is. But for an individual, the ensemble average is irrelevant.</p>

        <p>When the ensemble average (the average of many players) is different from the time average (the average for one individual over time), the system is said to be <em>non-ergodic</em>.</p>

        <p>What makes it possible for the ensemble average to increase, is the existence of a few extremely lucky players.</p>
        
        <p>Note that, over time, there will always be fewer and fewer lucky players. To successfully simulate the ensemble average over longer periods of time (many more rounds), you must model an infinite number of players.</p>

        <h2>Learn more</h2>
        <p>Here's Ole Peters explaining ergodicity and geometric brownian motion (15 min):<br />
            <a href="https://www.youtube.com/watch?v=LGqOH3sYmQA">https://www.youtube.com/watch?v=LGqOH3sYmQA</a>
        </p>

        <h2>Simulation Source Code</h2>
        <p><a href="https://github.com/ekmwest/gbm-simulation">https://github.com/ekmwest/gbm-simulation</a></p>

    </main>
</body>

</html>